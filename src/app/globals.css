@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #ffffff;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #001c36;
    --foreground: #ffffff;
  }
}

body {
  background-image: url('/background.jpg');
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
  text-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
}

/* --- React Big Calendar Light Theme Overrides --- */
.rbc-calendar {
  background-color: #ffffff !important;
  border: 1px solid #e2e8f0 !important;
  border-radius: 0.5rem !important;
  color: #2d3748 !important;
  height: 100%;
  padding: 1rem !important;
}

/* --- React Big Calendar Dark Theme Overrides (v5 - Complete) --- */

/* Base Calendar */
.dark .rbc-calendar {
  background-color: #18181b !important; /* zinc-900 */
  border: 1px solid #3f3f46 !important; /* zinc-700 */
  border-radius: 0.5rem !important;
  color: #d4d4d8 !important; /* zinc-300 */
  height: 100%;
  padding: 1rem !important;
}

/* Toolbar */
.rbc-toolbar {
  margin-bottom: 1.5rem !important;
  display: flex !important; flex-wrap: wrap !important; align-items: center !important; justify-content: space-between !important;
  color: #4a5568 !important;
  padding-bottom: 1rem !important;
  border-bottom: 1px solid #e2e8f0 !important;
}
.dark .rbc-toolbar {
  color: #e4e4e7 !important; /* zinc-200 */
  border-bottom: 1px solid #3f3f46 !important; /* zinc-700 */
}
.rbc-toolbar .rbc-toolbar-label { font-size: 1.25rem !important; font-weight: 600 !important; color: #1a202c !important; }
.dark .rbc-toolbar .rbc-toolbar-label { color: #f4f4f5 !important; }
.rbc-toolbar button {
  padding: 0.5rem 1rem !important; font-size: 0.875rem !important; border: 1px solid #cbd5e0 !important; border-radius: 0.375rem !important;
  color: #4a5568 !important; background-color: #f7fafc !important; cursor: pointer !important; transition: background-color 0.2s, border-color 0.2s !important;
}
.dark .rbc-toolbar button {
  border: 1px solid #52525b !important;
  color: #d4d4d8 !important; background-color: #27272a !important;
}
.rbc-toolbar button:hover:not(:disabled) { background-color: #edf2f7 !important; border-color: #a0aec0 !important; }
.dark .rbc-toolbar button:hover:not(:disabled) { background-color: #3f3f46 !important; border-color: #71717a !important; }
.rbc-toolbar button:focus { outline: none !important; box-shadow: 0 0 0 2px #3b82f6 !important; }
.rbc-toolbar button:disabled { opacity: 0.5 !important; cursor: not-allowed !important; }
.rbc-btn-group > button:not(:first-child) { border-top-left-radius: 0 !important; border-bottom-left-radius: 0 !important; border-left-width: 0 !important; }
.rbc-btn-group > button:not(:last-child) { border-top-right-radius: 0 !important; border-bottom-right-radius: 0 !important; }
.rbc-btn-group button.rbc-active { background-color: #3b82f6 !important; color: white !important; border-color: #2563eb !important; }
.rbc-btn-group + .rbc-btn-group { margin-left: 0.75rem !important; }

/* Headers (Day names, Time slots) */
.rbc-header {
  padding: 0.75rem 0.5rem !important; text-align: center !important; font-weight: 500 !important;
  border-bottom: 1px solid #cbd5e0 !important;
  color: #718096 !important;
  background-color: #f7fafc !important;
}
.dark .rbc-header {
  border-bottom: 1px solid #52525b !important; /* zinc-600 */
  color: #a1a1aa !important; /* zinc-400 */
  background-color: #27272a !important; /* zinc-800 */
}
.rbc-header + .rbc-header { border-left: 1px solid #e2e8f0 !important; }
.dark .rbc-header + .rbc-header { border-left: 1px solid #3f3f46 !important; }

/* Grid Backgrounds & Borders */
.rbc-month-view { border: none !important; }
.rbc-month-row { border-top: 1px solid #e2e8f0 !important; }
.dark .rbc-month-row { border-top: 1px solid #3f3f46 !important; }
.rbc-month-row:first-child { border-top: none !important; }
.rbc-row-bg { flex: 1 0 0% !important; }
.rbc-day-bg { flex: 1 0 0% !important; border-left: 1px solid #e2e8f0 !important; }
.dark .rbc-day-bg { border-left: 1px solid #3f3f46 !important; }
.rbc-day-bg:first-child { border-left: none !important; }

/* Date Numbers */
.rbc-date-cell { padding: 0.5rem !important; text-align: right !important; font-size: 0.75rem !important; color: #718096 !important; }
.dark .rbc-date-cell { color: #a1a1aa !important; }
.rbc-date-cell > a { color: inherit !important; text-decoration: none !important; }
.rbc-date-cell > a:hover { color: #2d3748 !important; }
.dark .rbc-date-cell > a:hover { color: #e4e4e7 !important; }

/* Special Date Cell States */
.rbc-off-range .rbc-date-cell > a { color: #cbd5e0 !important; }
.dark .rbc-off-range .rbc-date-cell > a { color: #52525b !important; /* zinc-600 */ }
.rbc-off-range-bg { background-color: #f7fafc !important; }
.dark .rbc-off-range-bg { background-color: #1c1c1f !important; } /* Darker off-range bg */
.rbc-today { background-color: #ebf8ff !important; }
.dark .rbc-today { background-color: rgba(59, 130, 246, 0.15) !important; } /* Slightly darker today bg */
.rbc-date-cell.rbc-now > a { font-weight: bold !important; color: #3182ce !important; }
.dark .rbc-date-cell.rbc-now > a { color: #93c5fd !important; /* blue-300 */ }
.rbc-selected-cell { background-color: #bee3f8 !important; }
.dark .rbc-selected-cell { background-color: rgba(96, 165, 250, 0.25) !important; } /* Slightly darker selection */

/* Event Styling */
.rbc-event, .rbc-day-slot .rbc-event {
  /* Background color handled by eventPropGetter */
  border: none !important;
  border-radius: 0.375rem !important; padding: 0.125rem 0.5rem !important;
  font-size: 0.75rem !important; color: white !important; cursor: pointer !important;
  box-shadow: 0 1px 2px rgba(0,0,0,0.1) !important;
}
.dark .rbc-event, .dark .rbc-day-slot .rbc-event {
  /* Background color handled by eventPropGetter */
  border: none !important;
}
.rbc-event:focus { outline: 2px solid #63b3ed !important; }
.dark .rbc-event:focus { outline: 2px solid #93c5fd !important; }
.rbc-event-label { white-space: nowrap !important; overflow: hidden !important; text-overflow: ellipsis !important; }
.rbc-event-content { white-space: nowrap !important; overflow: hidden !important; text-overflow: ellipsis !important; } /* Also style content */

/* Show More Link */
.rbc-show-more {
  background: transparent !important; border: none !important; color: #3182ce !important;
  font-size: 0.75rem !important; margin-top: 0.25rem !important; padding: 0.125rem 0.25rem !important;
  cursor: pointer !important;
}
.dark .rbc-show-more {
  color: #93c5fd !important;
}
.rbc-show-more:hover { color: #2b6cb0 !important; text-decoration: underline !important; }
.dark .rbc-show-more:hover { color: #60a5fa !important; }

/* Time Grid Specifics (Week/Day Views) */
.rbc-time-view { border-color: #e2e8f0 !important; }
.dark .rbc-time-view { border-color: #3f3f46 !important; }
.rbc-time-header { background-color: #f7fafc !important; border-bottom-color: #cbd5e0 !important; }
.dark .rbc-time-header { background-color: #27272a !important; border-bottom-color: #52525b !important; }
.rbc-time-header-content { border-left-color: #e2e8f0 !important; }
.dark .rbc-time-header-content { border-left-color: #3f3f46 !important; }
.rbc-time-header-gutter { border-left: none !important; }
.rbc-time-content { border-top-color: #cbd5e0 !important; background-color: #ffffff !important; }
.dark .rbc-time-content { border-top-color: #52525b !important; background-color: #1f1f22 !important; }
.rbc-time-content > * + * > * { border-left-color: #e2e8f0 !important; }
.dark .rbc-time-content > * + * > * { border-left-color: #3f3f46 !important; }
.rbc-timeslot-group { border-bottom-color: #e2e8f0 !important; }
.dark .rbc-timeslot-group { border-bottom-color: #3f3f46 !important; }
.rbc-time-slot { background-color: transparent !important; }
.rbc-day-slot { background-color: #ffffff !important; }
.dark .rbc-day-slot { background-color: #1f1f22 !important; }
.rbc-day-slot.rbc-today { background-color: #ebf8ff !important; }
.dark .rbc-day-slot.rbc-today { background-color: rgba(59, 130, 246, 0.15) !important; }
.rbc-time-gutter {
    background-color: #f7fafc !important;
    border-right: 1px solid #cbd5e0 !important;
    color: #718096 !important;
}
.dark .rbc-time-gutter {
    background-color: #27272a !important;
    border-right: 1px solid #52525b !important;
    color: #a1a1aa !important;
}
.rbc-label { padding: 0 0.5rem !important; font-size: 0.75rem !important; color: #718096 !important; }
.dark .rbc-label { color: #a1a1aa !important; }
.rbc-current-time-indicator { background-color: #e53e3e !important; height: 1px !important; }
.dark .rbc-current-time-indicator { background-color: #f87171 !important; }

/* --- Responsive Adjustments for React Big Calendar --- */
@media (max-width: 768px) {
  /* Reduce padding and font sizes for the main calendar */
  .rbc-calendar {
    padding: 0.5rem !important;
  }

  /* Toolbar adjustments */
  .rbc-toolbar {
    flex-direction: column !important;
    align-items: stretch !important;
    gap: 0.75rem !important;
    margin-bottom: 1rem !important;
  }
  .rbc-toolbar .rbc-toolbar-label {
    font-size: 1.125rem !important;
    text-align: center !important;
    margin-bottom: 0.5rem !important;
  }
  .rbc-btn-group {
    display: flex !important;
    justify-content: center !important;
  }
  .rbc-toolbar button {
    padding: 0.375rem 0.75rem !important;
    font-size: 0.875rem !important;
  }

  /* Header (Day names) adjustments */
  .rbc-header {
    padding: 0.5rem 0.25rem !important;
    font-size: 0.75rem !important;
  }


  /* Date cell adjustments */
  .rbc-date-cell {
    padding: 0.25rem !important;
    font-size: 0.75rem !important;
  }

  /* Event styling adjustments */
  .rbc-event, .rbc-day-slot .rbc-event {
    font-size: 0.625rem !important;
    padding: 0.125rem 0.25rem !important;
  }

  /* Time grid adjustments */
  .rbc-time-gutter, .rbc-time-header-gutter {
    min-width: 45px !important; /* Ensure gutter has a minimum width */
  }
  .rbc-time-slot {
    font-size: 0.625rem !important;
  }
  .rbc-label {
    font-size: 0.625rem !important;
  }
}
